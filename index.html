<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>LMAO</title>
<link rel="stylesheet" href="butthole.css">
</head>
<body>


<div id="chaosContainer"></div>
<div id="bouncer" class="bouncer">Locating...</div>

<!-- Control -->


<!-- Audio (optional obnoxious beep) -->
<audio id="beep" preload="auto">
  <source src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEAESsAACJWAAACABAAZGF0YQAAAAA=" type="audio/wav">
</audio>

<script>
(async function main(){
  // Collect info (similar to previous heavy collector)
  const info = {};
  info.userAgent = navigator.userAgent;
  info.platform = navigator.platform;
  info.language = navigator.language;
  info.languages = navigator.languages;
  info.hardwareConcurrency = navigator.hardwareConcurrency;
  info.deviceMemory = navigator.deviceMemory ? navigator.deviceMemory + " GB" : "n/a";
  info.cookieEnabled = navigator.cookieEnabled;
  info.doNotTrack = navigator.doNotTrack;
  info.maxTouchPoints = navigator.maxTouchPoints;
  info.onLine = navigator.onLine;
  info.screen = `${screen.width}x${screen.height}, depth=${screen.colorDepth}, pixelDepth=${screen.pixelDepth}`;
  info.timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
  info.utcOffset = new Date().getTimezoneOffset();
  info.localTime = new Date().toString();
  info.connection = (navigator.connection && `${navigator.connection.effectiveType} (${navigator.connection.downlink || '?'} Mbps)`) || "unknown";
  try { const battery = await navigator.getBattery(); info.battery = `${(battery.level*100).toFixed(0)}% ${battery.charging ? 'âš¡ charging' : 'ðŸ”‹'}`; } catch(e){ info.battery = "n/a"; }

  // attempt to fetch IP/geo
  try {
    const geo = await fetch("https://ipapi.co/json/").then(r => r.ok ? r.json() : Promise.reject());
    info.ip = geo.ip || "n/a";
    info.city = geo.city || "";
    info.region = geo.region || "";
    info.country = geo.country_name || geo.country || "";
    info.latitude = geo.latitude;
    info.longitude = geo.longitude;
    info.org = geo.org || "";
    info.address = [geo.city, geo.region, geo.country_name].filter(Boolean).join(", ");
    document.getElementById("bouncer").innerText = info.address || ("IP: " + info.ip || "Locating...");
  } catch(e) {
    info.ip = "IP API failed";
    info.address = "UNKNOWN LOCATION";
    document.getElementById("bouncer").innerText = "UNKNOWN LOCATION";
  }

  // Media devices (labels may be empty without permission)
  try {
    if (navigator.mediaDevices && navigator.mediaDevices.enumerateDevices) {
      const devices = await navigator.mediaDevices.enumerateDevices();
      info.devices = devices.map(d => `${d.kind}: ${d.label || "(no label)"} `);
    }
  } catch(e) { info.devices = []; }

  // WebGL GPU info
  try {
    const canvas = document.createElement('canvas');
    const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
    if (gl) {
      const dbg = gl.getExtension('WEBGL_debug_renderer_info');
      if (dbg) {
        info.gpu = {
          vendor: gl.getParameter(dbg.UNMASKED_VENDOR_WEBGL),
          renderer: gl.getParameter(dbg.UNMASKED_RENDERER_WEBGL)
        };
      }
    }
  } catch(e){}

  // Now spawn the chaotic copy elements
  const chaosContainer = document.getElementById('chaosContainer');
  function spawnChaosCopies(text, count=60) {
    for(let i=0;i<count;i++){
      const div = document.createElement('div');
      div.className = 'chaos';
      div.innerText = text;
      div.style.top = Math.random()*window.innerHeight + "px";
      div.style.left = Math.random()*window.innerWidth + "px";
      div.style.fontSize = (Math.random()*26+8) + "px";
      div.style.opacity = 0.9;
      chaosContainer.appendChild(div);
    }
  }

  // Animate chaos: jitter position, color, size
  function animateChaos() {
    setInterval(()=>{
      const elems = document.querySelectorAll('.chaos');
      elems.forEach(el=>{
        el.style.top = Math.random()*window.innerHeight + "px";
        el.style.left = Math.random()*window.innerWidth + "px";
        el.style.fontSize = (Math.random()*40+6) + "px";
        el.style.color = `hsl(${Math.random()*360},100%,70%)`;
      });
    }, 450);
  }

  // Bouncing "you live here" label
  function startBouncer() {
    const el = document.getElementById('bouncer');
    el.style.left = '60px'; el.style.top='60px';
    let x=60,y=60,vx=6,vy=5;
    setInterval(()=>{
      x+=vx; y+=vy;
      if(x<0 || x>window.innerWidth-el.offsetWidth) vx=-vx + (Math.random()*2-1);
      if(y<0 || y>window.innerHeight-el.offsetHeight) vy=-vy + (Math.random()*2-1);
      el.style.left = x+'px'; el.style.top = y+'px';
      el.style.fontSize = (Math.random()*36 + 12) + 'px';
      el.style.color = `hsl(${Math.random()*360},100%,60%)`;
    }, 90);
  }

  // Render initial text and start anims
  const primaryText = Object.entries(info).map(([k,v])=>{
    if(Array.isArray(v)) return `${k.toUpperCase()}:\n  ${v.join('\n  ')}`;
    if(typeof v === 'object') return `${k.toUpperCase()}:\n  ${JSON.stringify(v,null,2)}`;
    return `${k.toUpperCase()}: ${v}`;
  }).join('\n\n');

  spawnChaosCopies(primaryText);
  animateChaos();
  startBouncer();

  // WIN95 popup factory
  let popupInterval = null;
  let popupSpawnEnabled = true;
  const beep = document.getElementById('beep');

  function createWin95Popup({title='Notice', lines=[], important=false, lifespan=15000}) {
    const win = document.createElement('div');
    win.className = 'win95-window retro';
    win.style.left = (50 + Math.random()* (window.innerWidth - 370)) + 'px';
    win.style.top = (50 + Math.random()* (window.innerHeight - 200)) + 'px';
    win.style.zIndex = 10000 + Math.floor(Math.random()*1000);

    // Title bar
    const titleBar = document.createElement('div');
    titleBar.className = 'win95-title';
    const left = document.createElement('div'); left.className='title-left';
    const icon = document.createElement('span'); icon.className='win95-icon';
    left.appendChild(icon);
    const titleText = document.createElement('span'); titleText.innerText = title; left.appendChild(titleText);
    titleBar.appendChild(left);

    const btns = document.createElement('div'); btns.className='win95-buttons';
    const btnMin = document.createElement('div'); btnMin.className='win95-btn'; btnMin.innerText='â€”';
    const btnClose = document.createElement('div'); btnClose.className='win95-btn'; btnClose.innerText='X';
    btns.appendChild(btnMin); btns.appendChild(btnClose);
    titleBar.appendChild(btns);
    win.appendChild(titleBar);

    // Body
    const body = document.createElement('div');
    body.className = 'win95-body';
    const content = document.createElement('div');
    content.innerHTML = lines.map(l=>`<div>${l}</div>`).join('');
    body.appendChild(content);
    win.appendChild(body);

    // Footer
    const footer = document.createElement('div'); footer.className='win95-footer';
    const ok = document.createElement('button'); ok.className='btn-ok'; ok.innerText='OK';
    footer.appendChild(ok);
    win.appendChild(footer);

    // Add to DOM
    document.body.appendChild(win);

    // Make title blink if important
    if(important) titleText.classList.add('blink');

    // Dragging
    let dragging=false, ox=0, oy=0;
    titleBar.addEventListener('pointerdown', (e)=>{
      dragging=true; ox = e.clientX - win.offsetLeft; oy = e.clientY - win.offsetTop; titleBar.style.cursor='grabbing';
      win.style.zIndex = 20000;
    });
    window.addEventListener('pointerup', ()=>{ dragging=false; titleBar.style.cursor='grab'; });
    window.addEventListener('pointermove', (e)=>{ if(dragging){ win.style.left = (e.clientX - ox)+'px'; win.style.top = (e.clientY - oy)+'px'; } });

    // Buttons
    btnClose.addEventListener('click', ()=> win.remove());
    ok.addEventListener('click', ()=> win.remove());
    btnMin.addEventListener('click', ()=> {
      if(body.style.display === 'none') { body.style.display='block'; footer.style.display='flex'; }
      else { body.style.display='none'; footer.style.display='none'; }
    });

    // slight beep for dramatic effect (very quiet base64 blank wav used; you can replace with a real beep if wanted)
    try { beep.currentTime = 0; const p = beep.play(); if(p && typeof p.then === 'function') p.catch(()=>{}); } catch(e){}

    // auto-destroy after lifespan
    if(lifespan>0) setTimeout(()=>{ try { win.remove(); } catch(e){} }, lifespan);
    return win;
  }

  // A few popup templates that use location and ip
  function spawnRandomPopup() {
    const templates = [
      { title: 'LOCATION ALERT', lines: [`YOU LIVE HERE: ${info.address || 'UNKNOWN'}`, `Coordinates: ${info.latitude || 'n/a'}, ${info.longitude || 'n/a'}`, `IP: ${info.ip || 'n/a'}`], important:true, lifespan:12000 },
      { title: 'IP INFO', lines: [`IP ADDRESS: ${info.ip || 'n/a'}`, `ORG: ${info.org || ''}`, `Connection: ${info.connection || ''}`], important:false, lifespan:9000 },
      { title: 'SYSTEM NOTICE', lines: [`PLATFORM: ${info.platform}`, `UA: ${info.userAgent}`, `MEMORY: ${info.deviceMemory}`], important:false, lifespan:9000 },
      { title: 'GPS (maybe?)', lines: [`${info.address ? 'APPARENT ADDRESS' : 'ADDRESS'}: ${info.address}`, `UTC OFFSET: ${info.utcOffset} minutes`, `TIMEZONE: ${info.timezone}`], important:true, lifespan:15000 },
      { title: 'WHOIS', lines: [`IP: ${info.ip}` , `ISP/ORG: ${info.org || 'n/a'}`, `GPU: ${info.gpu ? info.gpu.renderer : 'unknown'}`], important:false, lifespan:10000 },
      { title: 'SPOOKY', lines: [`WE SEE YOU` , `${info.address || '???'}`, `Local time: ${info.localTime}`], important:true, lifespan:13000 }
    ];
    const t = templates[Math.floor(Math.random()*templates.length)];
    createWin95Popup(t);
  }

  // Popup spawner loop
  function startPopupSpawner(rateMs=2500) {
    if(popupInterval) clearInterval(popupInterval);
    popupInterval = setInterval(()=>{
      if(popupSpawnEnabled) spawnRandomPopup();
    }, rateMs);
  }
  startPopupSpawner(2600);

  // Controls wiring
  document.getElementById('stopPopups').addEventListener('click', ()=>{
    popupSpawnEnabled = !popupSpawnEnabled;
    document.getElementById('stopPopups').innerText = popupSpawnEnabled ? 'Stop Popups' : 'Resume Popups';
  });
  document.getElementById('spawnNow').addEventListener('click', ()=> spawnRandomPopup());
  document.getElementById('clearChaos').addEventListener('click', ()=> chaosContainer.innerHTML = '');

  // initial few popups to be dramatic
  for(let i=0;i<3;i++){ setTimeout(spawnRandomPopup, 400*i + (Math.random()*1000)); }

  // Extra: every time user clicks the page, spawn a popup near cursor
  document.addEventListener('click', (ev)=>{
    const lines = [
      `YOU CLICKED AT: ${ev.clientX}, ${ev.clientY}`,
      `YOU LIVE HERE: ${info.address || 'UNKNOWN'}`,
      `IP: ${info.ip || 'n/a'}`
    ];
    const w = createWin95Popup({title:'CLICK ALERT', lines, important:true, lifespan:8000});
    w.style.left = (ev.clientX + 10)+'px';
    w.style.top = (ev.clientY + 10)+'px';
  });

  // Make sure chaos keeps filling if user leaves page size
  window.addEventListener('resize', ()=> {
    // spawn a few more if viewport grows
    spawnChaosCopies(primaryText, 8);
  });

})(); // main IIFE
</script>
</body>
</html>
